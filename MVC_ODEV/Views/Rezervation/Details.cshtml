@model MVC_ODEV.Models.Tbl_Araclar

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Details</title>
    <link href="~/CSS/Style.css" rel="stylesheet" />

    <script type="text/javascript">
        function btn_pasif_yap() {
            var tarih = new Date();
            var rezTarih = new Date(rtarihi.innerText);
            var rezIptal = riptal.innerText;

            if ((rezTarih.getTime() <= tarih.getTime()) || rezIptal == 'Evet') {
                iptal_linki.innerText = 'İptal Edilemez.';
            }

        }
    </script>

</head>
<body onload="btn_pasif_yap()">
    <div>
        <h1>Sakarya BİP Otomotiv</h1>
        <hr />
        <h2>Rezervasyon Detayı</h2>

        <table border="1" cellpadding="5" cellspacing="0" width="750">
            <tr>
                <td rowspan="7">
                    @{
                        var dir = "/VehicleImages/" + Model.Arac_Id + ".jpg";
                        string FolderPath = Path.Combine(Server.MapPath(dir));
                        if (System.IO.File.Exists(FolderPath))
                        {
                            <img src="@Url.Content(dir)" width="400" />
                        }

                    }
                </td>
            </tr>
            <tr>
                <td width="30%">Marka</td>
                <td>@Html.DisplayFor(model => model.Marka)</td>
            </tr>
            <tr>
                <td>Model</td>
                <td>@Html.DisplayFor(model => model.Model)</td>
            </tr>
            <tr>
                <td>Model Yılı</td>
                <td>@Html.DisplayFor(model => model.Model_Yili)</td>
            </tr>
            <tr>
                <td>Yakıt</td>
                <td>@Html.DisplayFor(model => model.Yakit)</td>
            </tr>
            <tr>
                <td>Vites</td>
                <td>@Html.DisplayFor(model => model.Vites)</td>
            </tr>
            <tr>
                <td>Fiyat</td>
                <td>@Html.DisplayFor(model => model.Fiyat) TL</td>
            </tr>
        </table>

        <p></p>

        <table border="1" cellpadding="5" cellspacing="0" width="750">
            <tr>
                <th>Rezev ID</th>
                <th>Alma Tarihi</th>
                <th>Teslim Tarihi</th>
                <th>Ücret</th>
                <th>İptal Mi</th>
                <th>İptal Tarihi</th>
                <th>İşlemler</th>
            </tr>
            <tr>
                <td>@Url.RequestContext.RouteData.Values["id"]</td>
                <td><span id="rtarihi">@ViewData["a_tarihi"]</span></td>
                <td>@ViewData["t_tarihi"]</td>
                <td>@ViewData["ucret"] TL</td>
                <td><span id="riptal">@ViewData["iptal_mi"]</span></td>
                <td>@ViewData["i_tarihi"]</td>
                <td><span id="iptal_linki">@Html.ActionLink("İptal Et", "Iptal", new { id = Url.RequestContext.RouteData.Values["id"] }, new { onclick = "return confirm('Îptal etmek istiyor musun?')" })</span></td>
            </tr>
        </table>
        <p>@ViewData["sonuc"]</p>

        <p>
            @Html.ActionLink("Ana Sayfa", "Index", "Home") |
            @Html.ActionLink("Rezervasyonlarım", "Index") |
            @Html.ActionLink("Araç Listesi", "Index", "Vehicle")
        </p>
    </div>
</body>
</html>
